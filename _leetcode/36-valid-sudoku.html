<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>

  <script>
  /**
   * @param {character[][]} board
   * @return {boolean}
   */
  var isValidSudoku = function(board) {
    // speed > 53.98%, memory < 66.67% 
    function legalJudge(xGaps, yGaps) {
      let numbers = [];
      for (let i = xGaps[0]; i < xGaps[1]; i++) {
        for (let j = yGaps[0]; j < yGaps[1]; j++) {
          if(board[i][j] == '.') continue
          if(numbers.indexOf(board[i][j])!=-1) return false;
          else numbers.push(board[i][j]);
        }
      }
      return true;
    }

    let w = board.length;
    for (let i = 0; i < w; i++) {
      if(legalJudge([0, w],[i, i + 1]) === false) return false;
      if(legalJudge([i, i + 1], [0, w]) === false) return false;
    }
    
    for (let i = 0; i < w/3; i++) {
      for (let j = 0; j < w/3; j++) {
        if(legalJudge([j*3, (j+1)*3],[i*3, (i + 1)*3]) === false) return false;
      }
    }
    return true;
  };
  
  
  var sampleTrue = [
    ["5","3",".",".","7",".",".",".","."],
    ["6",".",".","1","9","5",".",".","."],
    [".","9","8",".",".",".",".","6","."],
    ["8",".",".",".","6",".",".",".","3"],
    ["4",".",".","8",".","3",".",".","1"],
    ["7",".",".",".","2",".",".",".","6"],
    [".","6",".",".",".",".","2","8","."],
    [".",".",".","4","1","9",".",".","5"],
    [".",".",".",".","8",".",".","7","9"]
  ];

  var sampleFalse = [
    ["8","3",".",".","7",".",".",".","."],
    ["6",".",".","1","9","5",".",".","."],
    [".","9","8",".",".",".",".","6","."],
    ["8",".",".",".","6",".",".",".","3"],
    ["4",".",".","8",".","3",".",".","1"],
    ["7",".",".",".","2",".",".",".","6"],
    [".","6",".",".",".",".","2","8","."],
    [".",".",".","4","1","9",".",".","5"],
    [".",".",".",".","8",".",".","7","9"]
  ];

  console.log(isValidSudoku(sampleTrue)==true);
  console.log(isValidSudoku(sampleFalse)==false);
</script>
var 
</body>
</html>