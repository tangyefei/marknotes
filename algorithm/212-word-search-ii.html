<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    
    /**
     * @param {character[][]} board
     * @param {string[]} words
     * @return {string[]}
     */
    var findWords = function(board, words) {
      // speed > 5.54%, memory < 100%
      var result = [];
      var visit = function(i, j, word) {
          if(!word) {
              return true;
          } else if(!board[i] || board[i][j] != word[0]) {
              return false;
          } else {
              let temp = board[i][j];
              
              board[i][j] = 'X';
              
              let res = visit(i-1,j,word.slice(1))||
              visit(i+1,j,word.slice(1))||
              visit(i,j-1,word.slice(1))||
              visit(i,j+1,word.slice(1))
              
              board[i][j] = temp;

              return res;
          }
      }
      var findWord = function(board, word) {
          for(let i = 0; i < board.length; i++){
              for(let j = 0; j < board[i].length; j++){
                  if(visit(i, j, word)) {
                      return result.push(word);
                  }
              }
          }
      }

      words.forEach(word => {
          findWord(board, word);  
      })

      return result;
    };

    var board = [
      ['o','a','a','n'],
      ['e','t','a','e'],
      ['i','h','k','r'],
      ['i','f','l','v']
    ]
    // var output = ["eat","oath"];
    var words = ["oath","pea","eat","rain"];

    var board2 = [["a","a"]]
    var words2 = ["aaa"];

    console.log(findWords(board ,words));
    console.log(findWords(board2 ,words2));
</script>
  
</body>
</html>